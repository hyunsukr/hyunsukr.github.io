knitr::opts_chunk$set(echo = TRUE, highlight=FALSE)
setwd("/Users/maxryoo/Documents/Fall 2018/STAT3080/Project1")
dataset <- read.csv("deathrateslifeexpect.csv")
## Years represented excluding 2015 due to its lack of life expectancy
yrs <- unique(dataset$Year)
race.list <- lapply(1:length(yrs), function(x)
dataset[dataset$Year == yrs[x] & dataset$Year != 2015,])
## Average life expectancy and Age adjusted death rate (every 5 years all races)
yrs5 <- yrs[yrs%%5 == 0]
raceboth<- lapply(2:length(yrs5), function(x)
dataset[dataset$Sex == "Both Sexes" & dataset$Year == yrs5[x] ,])
for (i in 1:length(raceboth)) {
names(raceboth[[i]]) <-
c("Year","Race","Sex","Average_Life_Expectancy", "Age_Adjusted_Death_Rate")
}
raceboth
dataset
knitr::opts_chunk$set(echo = TRUE, highlight=FALSE)
library(ggplot2)
setwd("/Users/maxryoo/Documents/Fall 2018/STAT3080/Project1")
dataset <- read.csv("deathrateslifeexpect.csv")
## Years represented excluding 2015 due to its lack of life expectancy
yrs <- unique(dataset$Year)
race.list <- lapply(1:length(yrs), function(x)
dataset[dataset$Year == yrs[x] & dataset$Year != 2015,])
## Average life expectancy and Age adjusted death rate (every 5 years all races)
yrs5 <- yrs[yrs%%5 == 0]
raceboth<- lapply(2:length(yrs5), function(x)
dataset[dataset$Sex == "Both Sexes" & dataset$Year == yrs5[x] ,])
for (i in 1:length(raceboth)) {
names(raceboth[[i]]) <-
c("Year","Race","Sex","Average_Life_Expectancy", "Age_Adjusted_Death_Rate")
}
## 1900 vs 2014
bothsex2010lifeex <- raceboth[[1]]$Average_Life_Expectancy
bothsex2010death <- raceboth[[1]][5]$Age_Adjusted_Death_Rate
bothsex1900lifeex <-
raceboth[[length(raceboth)]]$Average_Life_Expectancy
bothsex1900death <- raceboth[[length(raceboth)]]$Age_Adjusted_Death_Rate
tablerace19002010 <-
cbind(a = bothsex2010lifeex, b=bothsex1900lifeex,
c=bothsex2010death, d=bothsex1900death)
rownames(tablerace19002010) <- raceboth[[1]]$Race
colnames(tablerace19002010) <-
c("LE 2010", "LE 1900", "AADR 2010", "AADR 1900")
## Numerical Summary
diffrace <- unique(dataset$Race)
byrace <- lapply(1:length(diffrace), function(x)
dataset[dataset$Race == diffrace[x] & dataset$Year != 2015,])
for (i in 1:length(byrace)) {
names(byrace[[i]]) <-
c("Year","Race","Sex","Average_Life_Expectancy", "Age_Adjusted_Death_Rate")
}
avgbyracelife <- sapply(byrace, function(x) mean(x$Average_Life_Expectancy))
avgbyracedeath <- sapply(byrace, function(x) mean(x$Age_Adjusted_Death_Rate))
sdbyracelife <- sapply(byrace, function(x) sd(x$Average_Life_Expectancy))
sdbyracedeath <- sapply(byrace, function(x) sd(x$Age_Adjusted_Death_Rate))
tablemeans <- rbind(a = avgbyracelife, b=avgbyracedeath,
c=sdbyracelife ,d=sdbyracedeath)
colnames(tablemeans) <- diffrace
rownames(tablemeans) <- c("Average_Life_Expectancy", "Age_Adjusted_Death_Rate",
"SD of Average_Life_Expectancy",
"SD of Age_Adjusted_Death_Rate")
corbyracelife <- sapply(byrace, function(x) cor(x$Average_Life_Expectancy,x$Year))
corbyracedeath <- sapply(byrace, function(x) cor(x$Age_Adjusted_Death_Rate,x$Year))
corbyracelifesqr <- corbyracelife * corbyracelife
corbyracedeath <- corbyracedeath*corbyracedeath
tablecorr <- rbind(a = corbyracelife, b= corbyracedeath,
c=corbyracelifesqr, d=corbyracedeath)
colnames(tablecorr) <- diffrace
rownames(tablecorr) <- c("r (Years vs Average Life Expectancy)",
"r (Years vs Age Adjusted Death)",
"r^2 (Years vs Average Life Expectancy)",
"r^2 (Years vs Age Adjusted Death)")
#LE = Life Expectancy AADR = Age-Adjusted Death Rate
print(tablerace19002010)
print(tablemeans)
print(tablecorr)
exclude.2015 <- dataset[dataset$Year != 2015,]
colnames(exclude.2015) <- c("Year", "Race",
"Sex", "Average_Life_Expectancy",
"Age_Adjusted_Death_Rate")
lm.plot <- ggplot(exclude.2015, aes(x=Year,
y=Average_Life_Expectancy,colour=Race)) +
geom_point(alpha=0.3) + geom_smooth(method=lm)
lm.plot.names <- lm.plot+labs(title="Life Expectancy from 1900 to 2014",
y="Life Expectancy (Years)", x="Years") +
scale_x_continuous(breaks=yrs5) +
theme(axis.text.x=element_text(angle=50,vjust=0.5))
hist1 <- ggplot(exclude.2015, aes(x=exclude.2015$Average_Life_Expectancy))
binsize <- diff(range(exclude.2015$Average_Life_Expectancy))/30
bargraph <- hist1 + geom_histogram(binwidth=binsize, fill="white", colour="black") +
labs(title="Life Expectancy from 1900 to 2014", x="Expected Years", y="Occurrence")
print(lm.plot.names)
print(bargraph)
## Look at the iris data
iris[1:5,]
levels(iris$Species)
## Conduct the hypothesis test
t.test(Sepal.Width~Species, data=iris,
subset=Species %in% c("versicolor", "virginica"), mu=0,
alternative="two.sided")
levels(iris$Species)
## Look at the iris data
iris[1:5,]
## Look at the iris data
iris
library(BSDA)
library(UsingR)
library(OpenMx)
library(ggplot2)
library(pwr)
iris
iris[1:5,]
levels(iris$Species)
## Conduct the hypothesis test
t.test(Sepal.Width~Species, data=iris,
subset=Species %in% c("versicolor", "virginica"), mu=0,
alternative="two.sided")
## Separate the data
width1 <- iris$Sepal.Width[iris$Species=="versicolor"]
width2 <- iris$Sepal.Width[iris$Species=="virginica"]
## Conduct the hypothesis test
t.test(width1, width2, mu=0, alternative="two.sided")
dataset
dataset[1]
setwd("/Users/maxryoo/Documents/Fall 2018/STAT3080/Project1")
dataset <- read.csv("deathrateslifeexpect.csv")
## Years represented excluding 2015 due to its lack of life expectancy
yrs <- unique(dataset$Year)
race.list <- lapply(1:length(yrs), function(x)
dataset[dataset$Year == yrs[x] & dataset$Year != 2015,])
## Average life expectancy and Age adjusted death rate (every 5 years all races)
yrs5 <- yrs[yrs%%5 == 0]
raceboth<- lapply(2:length(yrs5), function(x)
dataset[dataset$Sex == "Both Sexes" & dataset$Year == yrs5[x] ,])
for (i in 1:length(raceboth)) {
names(raceboth[[i]]) <-
c("Year","Race","Sex","Average_Life_Expectancy", "Age_Adjusted_Death_Rate")
}
dataset[1]
dataset
dataset[1]
print(dataset[1:5,])
print(dataset[1:5,])
levels(dataset$Sex)
levels(iris$Species)
iris[1:5,]
?t.test
Sepal.Width~Species
iris[1:5,]
## Look at the iris data
iris[1:5,]
levels(dataset$Sex)
dataset[1:5,]
names(dataset) <- c("Year", "Race", "Sex", "Average Life Expectancy", "Age Adjusted Death Rate")
dataset
names(dataset) <- c("Year", "Race", "Sex", "Average_Life_Expectancy", "Age_Adjusted_Death_Rate")
dataset
t.test(Average_Life_Expectancy, data=dataset, subset=Sex %in% c("Male", "Female"), mu=0, alternative="two.sided")
t.test(Average_Life_Expectancy~Sex, data=dataset, subset=Sex %in% c("Male", "Female"), mu=0, alternative="two.sided")
female <- dataset$Average_Life_Expectancy[dataset$Sex == "Female"]
male <- dataset$Average_Life_Expectancy[dAtaset$Sex == "Male"]
male <- dataset$Average_Life_Expectancy[dataset$Sex == "Male"]
t.test(female, male, mu=0, alternative="two.sided")
t.test(Average_Life_Expectancy~Sex, data=dataset, subset=Sex %in% c("Male", "Female"), mu=0, alternative="two.sided")
t.test(female, male, mu=0, alternative="two.sided")
female <- dataset$Average_Life_Expectancy[dataset$Sex == "Female"]
female <- dataset$Average_Life_Expectancy[dataset$Sex == "Female"]
t.test(Average_Life_Expectancy~Sex, data=dataset, subset=Sex %in% c("Male", "Female"), mu=0, alternative="two.sided")
t.test(female, male, mu=0, alternative="two.sided")
t.test(Average_Life_Expectancy~Sex, data=dataset, subset=Sex %in% c("Male", "Female"), mu=0, alternative="two.sided")
female
female <- dataset$Average_Life_Expectancy[dataset$Sex == "Female" && dataset$Year != 2015]
female
female <- female[-1]
female
female <- dataset$Average_Life_Expectancy[dataset$Sex == "Female"]
female <- female[-1]
female
setwd("/Users/maxryoo/Documents/Fall 2018/STAT3080/Project1")
dataset <- read.csv("deathrateslifeexpect.csv")
names(dataset) <- c("Year", "Race", "Sex", "Average_Life_Expectancy", "Age_Adjusted_Death_Rate")
t.test(Average_Life_Expectancy~Sex, data=dataset, subset=Sex %in% c("Male", "Female"), mu=0, alternative="two.sided")
female <- dataset$Average_Life_Expectancy[dataset$Sex == "Female"]
male <- dataset$Average_Life_Expectancy[dataset$Sex == "Male"]
female <- female[-1]
male <- male[-1]
t.test(female, male, mu=0, alternative="two.sided")
t.test(female, male, mu=0, alternative="two.sided")
