<!-- 1. create HTML5 doctype -->

<!DOCTYPE html>
<html lang="en">
<script>
function addrow() {
      var displayMsg = document.getElementById("msg");
      
      //displayMsg.textContent = txt;
      displayMsg.innerHTML = txt;   // alternative way to update
   }  
</script>
<head>
  <meta charset="utf-8">

  <!-- 2. include meta tag to ensure proper rendering and touch zooming
         (bootstrap is designed to be responsive to mobile.
         Mobile-first styles are part of the core framework.)
   -->  
 <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- the width=device-width part sets the width of the page to follow
          the screen-width of the device (which wil vary depending on the device)
       the initial-scale=1 part sets the initialize zoom level when the page 
          is first loaded by the browser. 
   --> 
  
  <!-- The above 2 meta tags *must* come first in the head; any other head content must come *after* these tags -->   
  <title>Example: HTML, CSS and bootstrap, JS and DOM</title>    
  
  <!-- 3. link bootstrap pages
          Two basic bootstrap pages are  
             https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css
             https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js
          To use bootstrap.min.js, need jquery
             https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js
          (if only use css bootstrap, only link to the css)
   -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" /> 
  
  
</head>
<script>
  function setFocus() {
    //document.getElementById("taskdesc").focus();
    document.mainform.desc.focus();
  }
</script>
<body onload="setFocus();"> 

  <!-- 4. bootstrap requires a containing element to wrap site contents.
          There are two container classes to choose from (based on the above css bootstrap):
          (1) .container class provides a responsive fixed width container
          (2) .container-fluid class provides a full width container, spanning
              the entire width of the view point
          
          Bootstrap typically requires 3 main items: 
          - container, row, and column to nest the page contents 
   -->
  <div class="container">
    <h1>To Do List</h1>
    
  <!-- 5. use bootstrap form layouts
          Bootstrap provides three types of form layouts: 
            - verical form (default)
            - horizontal form
            - inline form
          Standard rules for all three form layouts: 
            - wrap labels and form controls in <div class="form-group">
              (needed for optimum spacing) 
            - add class .form-control to all textual <input>, <textarea>, 
              and <select> elements
     --> 
     
    <!-- <label> tag defines a label for an <input> element.
         It does not render as anything special for the user. 
         It provides a usability improvement for mouse useres, because 
         if the user clicks on the text within the <label> element,
         it toggles the control. 
         The for attribute of the <label> tag should be equal to the id attribute
         of the related element to bind them together. 
     -->
               
  <!-- 6. Create a form that allows a user to enter tasks -->

    <form name="mainform" >
    
      <div class="form-group">
        <label for="taskdesc">Task Description</label>
        <input type="text" id="taskdesc" class="form-control" name="desc" />
        <span class="error" id="taskdesc-note"></span>        
      </div>
      
      <div class="form-group">
        <label for="duedate">Due date</label>  
        <input type="text" id="duedate" class="form-control" />  
        <span class="error" id="duedate-note"></span>
      </div>
      
      <div class="form-group">
        <label for="priority">Priority</label>
        <select id="priority" class="form-control" >
          <option value="normal" selected="selected" >Normal</option>  <!-- set default selection -->
          <option value="high">High</option>
        </select>
      </div>     
                
      
      <input type="button" class="btn btn-light" id="add" value="Add Task" onclick="addRow()"/> 
    </form>
    <script>
      function addRow() {
        var desc = document.getElementById("taskdesc").value;
        var due = document.getElementById("duedate").value;
        var priority = document.getElementById("priority").value;
        var remove = "<input type-button value' X ' onClick='delRow()'>";
        var tableRef = document.getElementById("todoTable");
        var newRow = tableRef.insertRow(tableRef.rows.length);          newRow.onmouseover = function() {
          tableRef.clickedRowIndex = this.rowIndex;
        }
      }
      newRow.onmouseover = function() { 
        	  // rowIndex returns the position of a row in the rows collection of a table
              tableRef.clickedRowIndex = this.rowIndex;     
           };    
      var newCell = "";       
      var i = 0;
      while (i < 4)
        {
        newCell = newRow.insertCell(i);
        newCell.innerHTML = rowdata[i];
        newCell.onmouseover = this.rowIndex;
        i++;
        }
        function delRow()
  {
     // since deletion action is unrecoverable, add hesitation to minimize/avoid user error 
	 if (confirm("Press OK to delete. This action is unrecoverable.") == true)   
        document.getElementById("todoTable").deleteRow(document.getElementById("todoTable").clickedRowIndex);
  }
    </script>

    <br/>
    
  <!-- 7. display the "to do" list. 
       One obvious, simple approach is to display the list using a table
  -->
      
  <!-- A basic Bootstrap table has a light padding and horizontal dividers.
       To use the basic style, use .table class.   
  -->      
    <div id="todo">
      <table id="todoTable" class="table" >
        <thead>   <!-- set table headers -->
          <tr>
            <th>Task Description</th>
            <th>Due Date</th>
            <th>Priority</th>
            <th>(Remove)</th>
          </tr> 
        </thead>
        
        <!-- 8. write JS to dynamically create add new row upon form submission -->
        
      </table> 
    </div>
  </div> 
          







  
 
  </body>
</html>